<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <div style="display: flex;">
          <div  id='pending' *ngFor="let item of tabData; let i=index">
            <button *ngIf="item.statues" [style.background-color]="'#4dbd74'" type="button" (click)="changeTab(item)" class="myButton btn btn-primary mr-2"  >
              {{(item.name + '_TAB_LABEL' | uppercase) | translate}}
            </button>
            <button *ngIf="!item.statues" [style.background-color]="'#20a8d8'" type="button" (click)="changeTab(item)" class="myButton btn btn-primary mr-2"  >
              {{(item.name + '_TAB_LABEL' | uppercase) | translate}}
            </button>
          </div>
        </div>

      </div>
      <div class="card-body table-responsive p-0">

        <ejs-toolbar #toolbarTodo>
          <e-items>
            <e-item id='buy-list' >
              <ng-template #template>
                <button *ngIf="this.tab === 'Proposal' && accountGroupText === PROPOSAL" type="button" (click)="openSuggessionModal()"  style="color: white;" class="btn btn-success" >
                  <i class="fa fa-plus" aria-hidden="true"></i>
                  {{ 'SUGGESTION_BUTTON_LABEL' | translate}}
                  <!-- Suggestion  -->
                </button>
              </ng-template>
            </e-item>

            <e-item align='right'>
              <ng-template #template>
                <div class="e-toolbar-item e-search-wrapper e-toolbar-right" aria-disabled="false" title="Search">
                  <div class="e-input-group e-search" role="search"> <input id="toolbar_searchbar" style="width:178px" autocomplete="off"
                      [(ngModel)]="name" (change)='search($event)' class="e-input"
                      placeholder="{{ 'SEARCH_LABEL' | translate}}">
                    <span id="toolbar_searchbutton" class="e-input-group-icon fa fa-search e-icons" tabindex="-1"
                      title="Search" aria-label="search"></span>
                  </div>
                </div>
              </ng-template>
            </e-item>
          </e-items>
        </ejs-toolbar>

        <ejs-grid  #gridToDo
          id='grid'
          [dataSource]="data"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowPaging]='true'
          [pageSettings]='pageSettingsTodo'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'
          (queryCellInfo)='tooltip($event)'
        >
        <!-- <ng-template #toolbarTemplate let-data>
          <ejs-toolbar (clicked)='clickHandler($event)'>
              <e-items>
                  <e-item id='collapse' prefixIcon='e-collapse'></e-item>
              </e-items>
          </ejs-toolbar>
        </ng-template> -->
          <e-columns>
            <e-column field="Id" textAlign='Center' width="50" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.index}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>
            <e-column field="title" width="80" textAlign='Center' >
              <ng-template #headerTemplate>
                {{ 'TODOLIST_TITLE_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="comment" width="80" textAlign='Left' headerTextAlign='Center' >
              <ng-template #headerTemplate>
                {{ 'TODOLIST_COMMENT_LABEL' | translate}}
              </ng-template>

              <ng-template #template let-data>
                <ng-container *ngIf="data.type === StatusName.Apply || data.type === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>

            <e-column field="" width="80" textAlign='Center' >
              <ng-template #headerTemplate>
                {{ 'TODOLIST_DATE_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>
            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' >
              <ng-template #headerTemplate>
                {{ 'TODOLIST_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="statusName" width="100" textAlign='Center'>
              <ng-template #headerTemplate>
                {{ 'TODOLIST_DETAIL_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div *ngIf="data.type !== 'N/A'" class="btn-group">
                  <button type="button" (click)="detail(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i></button>
                </div>
                <div *ngIf="data.type === 'N/A' " class="btn-group">
                  <button *ngIf="accountGroupText === PROPOSAL" type="button" (click)="suggessionUpdate(data)" class="btn btn-xs btn-secondary"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

            <e-column [visible]='accountGroupText === SPOKERMAN  ? true : false' field="isAnnouncement" width="100" textAlign='Center'>
              <ng-template #headerTemplate>
                {{ 'TODOLIST_ANNOUNCEMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ejs-switch  onLabel="ON" cssClass="custom-iOS" (change)='announcement(data)' offLabel="OFF" [(checked)]="data.isAnnouncement"></ejs-switch>
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>

      </div>
    </div>
  </div>
</div>

<!-- suggession -->
<ng-template #suggession let-modal>
  <div class="modal-header">
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_SUGGESTION_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_TO_LABEL' | translate}}</label>
          <ejs-dropdownlist
          [(ngModel)]='toId'
          [allowFiltering]='true'
          [fields]="userFields"
          placeholder="{{ 'SUGGESTION_PLACEHOLDER_LABEL' | translate}}"
          [dataSource]='dataUser'>
        </ejs-dropdownlist>

          <!-- <textarea   cols="30" rows="10" class="form-control"></textarea> -->
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_TITLE_LABEL' | translate}}</label>
          <input type="text" [(ngModel)]="titleText" class="form-control">
          <!-- <textarea   cols="30" rows="10" class="form-control"></textarea> -->
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_ISSUE_LABEL' | translate}}</label>
          <!-- <ejs-dropdownlist [(ngModel)]='policyId' [allowFiltering]='true' [fields]="policyFields" placeholder='Select a policy' [dataSource]='policyData'></ejs-dropdownlist> -->

          <textarea [(ngModel)]="issueText"  cols="30" rows="10" class="form-control"></textarea>
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_LABEL' | translate}}</label>
          <!-- <ejs-dropdownlist [(ngModel)]='policyId' [allowFiltering]='true' [fields]="policyFields" placeholder='Select a policy' [dataSource]='policyData'></ejs-dropdownlist> -->

          <textarea [(ngModel)]="suggessionText"  cols="30" rows="10" class="form-control"></textarea>
        </div>
        <div class="form-group">

          <label for="">{{ 'MODAL_SUGGESTION_FILE_LABEL' | translate}}</label>
          <ng-container>
            <ng-container *ngIf="locale === 'en'; else elseTemplate">
              <file-pond #myPondUpload
                allow-multiple="true"
                allowFileSizeValidation="true"
                maxFileSize="5MB"
                labelMaxFileSizeExceeded="File is too large"
                [files]="file"
                [options]="pondOptionsEN"
                (onprocessfile)="handleFileProcess($event)"
                (onaddfile)="pondHandleAddFile($event)"
                (onremovefile)="pondHandleRemoveFile($event)">
              </file-pond>
            </ng-container>
            <ng-template #elseTemplate>
              <file-pond #myPondUpload
                allow-multiple="true"
                allowFileSizeValidation="true"
                maxFileSize="5MB"
                labelMaxFileSizeExceeded="File is too large"
                [files]="file"
                [options]="pondOptionsZH"
                (onprocessfile)="handleFileProcess($event)"
                (onaddfile)="pondHandleAddFile($event)"
                (onremovefile)="pondHandleRemoveFile($event)">
              </file-pond>
            </ng-template>

          </ng-container>
        </div>
      </div>
    </div>


  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="save()">
      {{ 'MODAL_BUTTON_SAVE_LABEL' | translate}}
    </button>
    <button type="submit" (click)='submit()' class="btn btn-primary">
      {{ 'MODAL_BUTTON_SUBMIT_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end suggession-->

<!-- suggession Edit -->
<ng-template #suggessionEdit let-modal>
  <div class="modal-header">
    <h4 class="modal-title"> <img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_SUGGESTION_EDIT_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_EDIT_TO_LABEL' | translate}}</label>
          <ejs-dropdownlist
          [(ngModel)]='toId'
          [allowFiltering]='true'
          [fields]="userFields"
          placeholder="{{ 'SUGGESTION_PLACEHOLDER_LABEL' | translate}}"
          [dataSource]='dataUser'>
        </ejs-dropdownlist>

          <!-- <textarea   cols="30" rows="10" class="form-control"></textarea> -->
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_EDIT_TITLE_LABEL' | translate}}</label>
          <input type="text" [(ngModel)]="titleText" class="form-control">
          <!-- <textarea   cols="30" rows="10" class="form-control"></textarea> -->
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_EDIT_ISSUE_LABEL' | translate}}</label>
          <!-- <ejs-dropdownlist [(ngModel)]='policyId' [allowFiltering]='true' [fields]="policyFields" placeholder='Select a policy' [dataSource]='policyData'></ejs-dropdownlist> -->

          <textarea [(ngModel)]="issueText"  cols="30" rows="10" class="form-control"></textarea>
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_EDIT_SUGGESTION_LABEL' | translate}}</label>
          <!-- <ejs-dropdownlist [(ngModel)]='policyId' [allowFiltering]='true' [fields]="policyFields" placeholder='Select a policy' [dataSource]='policyData'></ejs-dropdownlist> -->

          <textarea [(ngModel)]="suggessionText"  cols="30" rows="10" class="form-control"></textarea>
        </div>
        <div class="form-group">
          <label for="">{{ 'MODAL_SUGGESTION_EDIT_FILE_LABEL' | translate}}</label>
          <ng-container>
            <ng-container *ngIf="locale === 'en'; else elseTemplate">
              <file-pond #myPondUpload
                allow-multiple="true"
                allowFileSizeValidation="true"
                maxFileSize="5MB"
                labelMaxFileSizeExceeded="File is too large"
                [files]="file"
                [options]="pondOptionsEN"
                (onprocessfile)="handleFileProcess($event)"
                (onaddfile)="pondHandleAddFile($event)"
                (onremovefile)="pondHandleRemoveFile($event)">
              </file-pond>
            </ng-container>

            <ng-template #elseTemplate>
              <file-pond #myPondUpload
                allow-multiple="true"
                allowFileSizeValidation="true"
                maxFileSize="5MB"
                labelMaxFileSizeExceeded="File is too large"
                [files]="file"
                [options]="pondOptionsZH"
                (onprocessfile)="handleFileProcess($event)"
                (onaddfile)="pondHandleAddFile($event)"
                (onremovefile)="pondHandleRemoveFile($event)">
              </file-pond>
            </ng-template>

          </ng-container>


          <div class="mt-3 d-flex justify-content-start">

            <ul class="list-group mr-3" style="width: 50%;" [style.width]='filesRight.length > 0 ? "50%": "100%"'>
              <li class="list-group-item" *ngFor="let item of filesLeft">
                <div class="row">
                  <div class="col-md-10">
                    <a [id]='item.path' [href]="item.path">{{item.name}}</a>

                  </div>
                  <div class="col-md-2 float-right">
                    <button (click)="removeFile(item)" type="button" class="btn btn-xs btn-danger"> X</button>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>


  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="saveEditSuggession()">
      {{ 'MODAL_BUTTON_SAVE_LABEL' | translate}}
    </button>
    <button type="submit" (click)='submitEditSuggession()' class="btn btn-primary">
      {{ 'MODAL_BUTTON_SUBMIT_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end suggession-->


<!-- details Modal -->
<ng-template #details let-modal>
  <div class="modal-header">
    <h4 class="modal-title"> </h4>
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_DETAIL_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">

        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">
                  {{ 'MODAL_PROPOSER_LABEL' | translate}}:
                </label>
                <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">
                  {{ 'MODAL_TITLE_LABEL' | translate}}:
                </label>
                <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'
        >
          <e-columns>
            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>
            <e-column field="name"  textAlign='Center' width="100" headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>



            </e-column>
            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>
            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>

  </div>
  <div class="modal-body" *ngIf="accountGroupText === SPOKERMAN">
    <div class="row">
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_COMMENT_LABEL' | translate}}:
                <div class="panel-body">
                  <textarea class="form-control" [(ngModel)]="commentText" placeholder="{{'PLACEHOLDER_COMMENT_LABEL' | translate}}" rows="3"></textarea>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_ATTACKFILE_LABEL' | translate}}:
                <div class="panel-body">
                  <ng-container>
                    <ng-container *ngIf="locale === 'en'; else elseTemplate">
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsEN"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsZH"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-template>

                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="submit" (click)="accept()" *ngIf="accountGroupText === SPOKERMAN" class="btn btn-success">
      {{ 'MODAL_ACCEPT_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" (click)="reject()" *ngIf="accountGroupText === SPOKERMAN" class="btn btn-danger">
      {{ 'MODAL_REJECT_BUTTON_LABEL' | translate}}
    </button>
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end details Modal-->

<!-- tabProcess Modal -->
<ng-template #tabProcess let-modal>
  <div class="modal-header">
    <h4 class="modal-title"> </h4>
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_PROCESSDETAIL_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">

        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_PROPOSER_LABEL' | translate}}: </label> <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_TITLE_LABEL' | translate}}: </label> <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'
        >
          <e-columns>
            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>
            <e-column field="name" width="100" textAlign='Center' headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>
            </e-column>
            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>
            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>

  </div>
  <div class="modal-body" *ngIf="accountGroupText === SPOKERMAN && this.tab === PROCESSING">
    <div class="row">
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{'MODAL_COMMENT_LABEL' | translate}}:
                <div class="panel-body">
                  <textarea class="form-control" [(ngModel)]="commentText" placeholder="{{'PLACEHOLDER_COMMENT_LABEL' | translate}}" rows="3"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{'MODAL_ATTACKFILE_LABEL' | translate}}:
                <div class="panel-body">
                  <ng-container>
                    <ng-container *ngIf="locale === 'en'; else elseTemplate">
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsEN"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsZH"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-template>

                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
  <div class="modal-footer">
    <button type="submit" (click)="update()" *ngIf="accountGroupText === SPOKERMAN && this.tab === PROCESSING" class="btn btn-primary">
      {{ 'MODAL_UPDATE_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" (click)="complete()" *ngIf="accountGroupText === SPOKERMAN && this.tab === PROCESSING" class="btn btn-success">
      {{ 'MODAL_COMPLETE_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" (click)="terminate()" *ngIf="accountGroupText === SPOKERMAN && this.tab === PROCESSING"  class="btn btn-danger">
      {{ 'MODAL_TERMINATE_BUTTON_LABEL' | translate}}
    </button>
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end tabProcess Modal-->


<!-- Complete-Terminate Modal -->
<ng-template #completeTerminateModel let-modal>
  <div class="modal-header">
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_DETAIL_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">
        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_PROPOSER_LABEL' | translate}}: </label> <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_TITLE_LABEL' | translate}}: </label> <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'
        >
          <e-columns>
            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
            </e-column>
            <e-column field="name" width="100"  textAlign='Center' headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>

            </e-column>
            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>
            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>
  </div>

  <div class="modal-body" *ngIf="accountGroupText === PROPOSAL">
    <div class="row">
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_COMMENT_LABEL' | translate}}:
                <div class="panel-body">
                  <textarea class="form-control" [(ngModel)]="commentText" placeholder="{{'PLACEHOLDER_COMMENT_LABEL' | translate}}" rows="3"></textarea>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_ATTACKFILE_LABEL' | translate}}:


                <div class="panel-body">
                  <ng-container>
                    <ng-container *ngIf="locale === 'en'; else elseTemplate">
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsEN"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsZH"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-template>

                  </ng-container>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" (click)="satisfied()" *ngIf="accountGroupText === PROPOSAL" class="btn btn-success">
      {{ 'MODAL_SATISFIED_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" (click)="dissatisfied()" *ngIf="accountGroupText === PROPOSAL" class="btn btn-danger">
      {{ 'MODAL_DISSATISFIED_BUTTON_LABEL' | translate}}
    </button>
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end Complete-Terminate Modal-->

<!-- satisfied-Close Modal -->
<ng-template #satisfiedCloseModel let-modal>
  <div class="modal-header">
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_SATISFIED_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">

        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_PROPOSER_LABEL' | translate}}: </label> <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_TITLE_LABEL' | translate}}: </label> <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'

        >
          <e-columns>

            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>

            <e-column field="name" width="100" textAlign='Center' headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left; ">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>

            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end satisfied-Close Modal-->

<!-- Reject Modal -->
<ng-template #rejectModel let-modal>
  <div class="modal-header">
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_REJECT_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">
        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_PROPOSER_LABEL' | translate}}: </label> <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_TITLE_LABEL' | translate}}: </label> <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'

        >
          <e-columns>
            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>
            <e-column field="name" width="100" textAlign='Center' headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>
            </e-column>
            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span >{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>
            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>
  </div>
  <div class="modal-body" *ngIf="accountGroupText !== SPOKERMAN && accountGroupText !== ERICK">
    <div class="row">
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_COMMENT_LABEL' | translate}}:
                <div class="panel-body">
                  <textarea class="form-control" [(ngModel)]="commentText" placeholder="{{'PLACEHOLDER_COMMENT_LABEL' | translate}}" rows="3"></textarea>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_ATTACKFILE_LABEL' | translate}}:
                <div class="panel-body">
                  <ng-container>
                    <ng-container *ngIf="locale === 'en'; else elseTemplate">
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsEN"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsZH"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-template>

                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
  <div class="modal-footer">
    <button type="submit" *ngIf="accountGroupText !== SPOKERMAN && accountGroupText !== ERICK" (click)="satisfied()"  class="btn btn-success">
      {{ 'MODAL_SATISFIED_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" *ngIf="accountGroupText !== SPOKERMAN && accountGroupText !== ERICK" (click)="dissatisfied()"  class="btn btn-danger">
      {{ 'MODAL_DISSATISFIED_BUTTON_LABEL' | translate}}
    </button>
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>
<!-- end Reject Modal-->

<!-- dissatisfied Modal -->
<ng-template #dissatisfiedModel let-modal>
  <div class="modal-header">
    <h4 class="modal-title"><img _ngcontent-eva-c300="" src="/assets/img/star.jpg" alt="" style="width: 20px; height: 20px;">
      {{ 'MODAL_DISSATIFIED_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2">
      <div class="col-md-6">
        <table style="box-shadow:  -2px 1px 3px black; border-radius: 10px; overflow: hidden;" class="table table-bordered">
          <tbody>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_PROPOSER_LABEL' | translate}}: </label> <span> {{nameTitle}}</span>

              </td>
            </tr>
            <tr>
              <td>
                <label class="font-weight-bold">{{ 'MODAL_TITLE_LABEL' | translate}}: </label> <span> {{issueTitle}}</span>

              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <ejs-grid  #grid
          id='grid'
          [dataSource]="dataHis"
          [allowResizing]='true'
          [showColumnMenu]='true'
          gridLines='Both'
          isPrimaryKey='true'
          [showColumnChooser]='true'
          [allowExcelExport]='true'
          [textWrapSettings]="wrapSettings"
          [editSettings]='editSettings'

        >
          <e-columns>

            <e-column field="Id" textAlign='Center' width="35" isPrimaryKey="true" headerText="#">
              <ng-template #template let-data>
                {{data.sequence}}
              </ng-template>
              <ng-template #editTemplate let-data>
                #
              </ng-template>
            </e-column>

            <e-column field="name" width="100" textAlign='Center' headerText="{{ 'Signee' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_SIGNEE_LABEL' | translate}}
              </ng-template>


            </e-column>

            <e-column field="comment"  textAlign='Left' headerTextAlign='Center' headerText="{{ 'Comment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_COMMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <ng-container *ngIf="data.description === StatusName.Apply || data.description === null; else elseTemplate">
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                    <span style="text-align: left; font-size: 14px;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    <ng-template #content >
                      <span style="text-align: left;">{{'ISSUE_DATA_LABEL' | translate}}: {{data.issue}}</span> <br>
                      <span style="text-align: left;">{{'SUGGESTION_DATA_LABEL' | translate}}: {{data.suggession}}</span>
                    </ng-template>
                  </ejs-tooltip>
                </ng-container>
                <ng-template #elseTemplate>
                  <ejs-tooltip >
                    <span style="text-align: left; font-size: 14px;">{{data.comment}}</span>
                    <ng-template #content >
                      <span>{{data.comment}}</span>
                    </ng-template>
                  </ejs-tooltip>

                </ng-template>
              </ng-template>
            </e-column>

            <e-column field="" width="130" textAlign='Center' headerText="{{ 'Time' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_TIME_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                {{data.createdTime | date:'yyyy/MM/dd, h:mm a'}}
              </ng-template>

            </e-column>

            <e-column field="statusName" width="100" textAlign='Center' headerText="{{ 'Status' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_STATUS_LABEL' | translate}}
              </ng-template>
            </e-column>

            <e-column field="Attachment" width="100" textAlign='Center' headerText="{{ 'Attachment' | translate}}">
              <ng-template #headerTemplate>
                {{ 'MODAL_ATTRACHMENT_LABEL' | translate}}
              </ng-template>
              <ng-template #template let-data>
                <div class="btn-group">
                  <button type="button" (click)="attackFile(data)" class="btn btn-xs btn-primary"><i class="fa fa-eye"></i>
                    {{ 'MODAL_VIEW_LABEL' | translate}}
                  </button>
                </div>
              </ng-template>
              <ng-template #editTemplate let-data>
               N/A
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>
      </div>
    </div>
  </div>
  <div class="modal-body" *ngIf="accountGroupText === ERICK && this.tab === ERICKTAB">
    <div class="row">
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_COMMENT_LABEL' | translate}}:
                <div class="panel-body">
                  <textarea class="form-control" [(ngModel)]="commentText" placeholder="{{'PLACEHOLDER_COMMENT_LABEL' | translate}}" rows="3"></textarea>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row bootstrap snippets">
          <div class="col-md-12 col-md-offset-2 col-sm-12">
            <div class="comment-wrapper">
              <div class="panel panel-info">
                {{ 'MODAL_ATTACKFILE_LABEL' | translate}}:
                <div class="panel-body">
                  <ng-container>

                    <ng-container *ngIf="locale === 'en'; else elseTemplate">
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsEN"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <file-pond #myPondUpload
                        allow-multiple="true"
                        allowFileSizeValidation="true"
                        maxFileSize="5MB"
                        labelMaxFileSizeExceeded="File is too large"
                        [files]="file"
                        [options]="pondOptionsZH"
                        (onprocessfile)="handleFileProcess($event)"
                        (onaddfile)="pondHandleAddFile($event)"
                        (onremovefile)="pondHandleRemoveFile($event)">
                      </file-pond>
                    </ng-template>

                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>

  <div class="modal-footer">
    <button type="submit" *ngIf="accountGroupText === ERICK && this.tab === ERICKTAB" (click)="closeIdea()"  class="btn btn-success">
      {{ 'MODAL_CLOSE_BUTTON_LABEL' | translate}}
    </button>
    <button type="submit" *ngIf="accountGroupText === ERICK && this.tab === ERICKTAB" (click)="asign()"  class="btn btn-danger">
      {{ 'MODAL_ASIGN_BUTTON_LABEL' | translate}}
    </button>
    <!-- <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button> -->
  </div>


</ng-template>
<!-- end dissatisfied Modal-->

<ng-template #fileModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">
      <i class="fas fa-plus"></i> {{ 'MODAL_DOWNLOADFILE_LABEL' | translate}}
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

    <div class="mt-3 d-flex justify-content-start">
      <ul class="list-group" style="width: 100%;" >
        <li class="list-group-item" *ngFor="let item of files">
          <a [id]='item.path' target="_blank" [href]="item.path">{{item.name}}</a>
        </li>
      </ul>
      <!-- <ng-container *ngIf="files.length >= 0; else elseTemplate">

      </ng-container>
      <ng-template #elseTemplate>
        <span>No data</span>
      </ng-template> -->

  </div>


  </div>
  <div class="modal-footer">

    <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">
      {{ 'MODAL_CLOSEMODAL_BUTTON_LABEL' | translate}}
    </button>
  </div>


</ng-template>

